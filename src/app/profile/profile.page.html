<ion-header>
  <ion-toolbar>
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="userData; else notLoggedIn" class="profile-container">
    <ion-card class="profile-card">
      <div class="profile-header">
        <div class="avatar">
          <ion-icon name="person-circle-outline" class="avatar-icon"></ion-icon>
        </div>
        <h2 class="username">{{ userData.name }}</h2>
        <ion-button
          [routerLink]="['/edit-profile']"
          class="edit-button"
          fill="outline"
          size="small"
        >
          Edit Profile
        </ion-button>
      </div>

      <ion-segment value="profile" class="profile-segment">
        <ion-segment-button value="profile" content-id="profile">
          Profile
        </ion-segment-button>
        <ion-segment-button value="reviews" content-id="reviews">
          Reviews
        </ion-segment-button>
        <ion-segment-button value="watchlist" content-id="watchlist">
          Watchlist
        </ion-segment-button>
      </ion-segment>
      <ion-segment-view>
        <ion-segment-content id="profile">
          <ion-button
            (click)="logout()"
            color="danger"
            expand="full"
            class="logout-button"
            >Logout</ion-button
          >

          <div class="content-section">
            <h3>Favorite Films</h3>
            <p>
              Donâ€™t forget to select your
              <a [routerLink]="['/edit-profile']" class="edit-link"
                >favorite films!</a
              >
            </p>
            <h3>Recent Activity</h3>
            <div class="empty-activity">No recent activity available.</div>
          </div>
        </ion-segment-content>
        <ion-segment-content id="reviews"
          >TODO: BIKIN HALAMAN REVIEWS DISINI</ion-segment-content
        >
        <ion-segment-content id="watchlist"
          >TODO: BIKIN WATCHLIST DISINI</ion-segment-content
        >
      </ion-segment-view>
    </ion-card>
  </div>

  <ng-template #notLoggedIn>
    <div class="not-logged-in">
      <h2>Anda Belum Login</h2>
      <p>Please log in to access your profile.</p>
      <ion-button [routerLink]="['/login']" fill="solid">Login</ion-button>
    </div>
  </ng-template>
</ion-content>
